"use strict";const txtFile=new XMLHttpRequest;txtFile.open("GET","/projects/David-O-Meter/sentimentValues.json",!0),txtFile.onreadystatechange=function(){if(txtFile.readyState===4&&txtFile.status===200){const t=JSON.parse(txtFile.responseText),o=[t.positive,t.neutral,t.negative];let n=0;for(let e=0;e<o.length;e++)n+=o[e];const i=[document.getElementById("positive"),document.getElementById("neutral"),document.getElementById("negative")];for(let e=0;e<i.length;e++)formatBar(i[e],o[e],n);populateFootnote(n,t.time)}};function formatBar(t,o,n){t.innerHTML=roundToTwoDecimal(o*100/n).toString()+"%",t.setAttribute("title",String(o)),t.style.flexGrow=roundToTwoDecimal(o*100/n).toString();let i=window.getComputedStyle(t,"::after").content;const e="#"+t.id+":after{margin-left: -"+i.length/4+"em}",l=document.createElement("style");l.innerHTML=e,document.head.insertAdjacentElement("beforeend",l)}function populateFootnote(t,o){const n=document.getElementById("number-of-tweets");n.innerHTML=n.innerHTML.replace("$num","<strong>"+t.toLocaleString()+"</strong>");const i=new Date(o),e=document.getElementById("time-updated");e.innerHTML=`${e.innerHTML}<strong>${i.toLocaleTimeString("en-us",{hour:"2-digit",minute:"2-digit"})} ${i.toLocaleDateString("en-us")}</strong>`}function hideOrShowNeutralBar(){let t=document.getElementById("show-neutral").checked,o=document.getElementById("neutral"),n=document.getElementById("positive"),i=parseFloat(n.style.flexGrow),e=document.getElementById("negative"),l=parseFloat(e.style.flexGrow),r=i+l;t?(o.style.display="initial",n.innerHTML=i+"%",e.innerHTML=l+"%"):(o.style.display="none",n.innerHTML=roundToTwoDecimal(i/r*100)+"%",e.innerHTML=roundToTwoDecimal(l/r*100)+"%")}function roundToTwoDecimal(t){return Math.round(t*100)/100}txtFile.send(null);
